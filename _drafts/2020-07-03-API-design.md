---
title:  "와이어프레임 만들었으니 API 설계해보기"
excerpt: "구글링을 잘하는게 참 중요해요"


categories:
-   공부
tags:
-   백엔드
last_modified_at: 2020-07-08TO22:30:00+09:00
---

- [API 설계를 시작하기 전 나에게 하는 질문 리스트](#api-설계를-시작하기-전-나에게-하는-질문-리스트)
- [REST란](#rest란)
  - [REST 의 특징](#rest-의-특징)
  - [REST API 설계시 중요한 점](#rest-api-설계시-중요한-점)
  - [URI란](#uri란)
  - [URI와 URL의 차이](#uri와-url의-차이)
- [API 설계를 시작하는 나의 방법](#api-설계를-시작하는-나의-방법)
  - [Excel](#excel)
  - [Swagger-editor](#swagger-editor)
  - [시스템 구성도를 작성하는 이유](#시스템-구성도를-작성하는-이유)

## API 설계를 시작하기 전 나에게 하는 질문 리스트

1. API가 뭔데? 설명할 수 있어?
2. API에 REST말고 뭐가 있는데?
3. API 설계 산출물은 어떻게 생겼는데?
4. API 설계는 어떤 프로세스로 진행되는데?
5. API 설계는 어떤 도구를 보통 사용하는데?

## REST란

API 종류로써의 REST가 아니라,
REST라는 아키텍처로 만든 API였다.

[위키피디아 - REST](https://ko.wikipedia.org/wiki/REST)
>REST(Representational State Transfer)는 월드 와이드 웹과 같은 분산 하이퍼미디어 시스템을 위한 소프트웨어 아키텍처의 한 형식이다. 이 용어는 로이 필딩(Roy Fielding)의 2000년 박사학위 논문에서 소개되었다. 필딩은 HTTP의 주요 저자 중 한 사람이다. 이 개념은 네트워킹 문화에 널리 퍼졌다.
>엄격한 의미로 REST는 네트워크 아키텍처 원리의 모음이다. 여기서 '네트워크 아키텍처 원리'란 자원을 정의하고 자원에 대한 주소를 지정하는 방법 전반을 일컫는다. 간단한 의미로는, 웹 상의 자료를 HTTP위에서 SOAP이나 쿠키를 통한 세션 트랙킹 같은 별도의 전송 계층 없이 전송하기 위한 아주 간단한 인터페이스를 말한다. 이 두 가지의 의미는 겹치는 부분과 충돌되는 부분이 있다. 필딩의 REST 아키텍처 형식을 따르면 HTTP나 WWW이 아닌 아주 커다란 소프트웨어 시스템을 설계하는 것도 가능하다. 또한, 리모트 프로시저 콜 대신에 간단한 XML과 HTTP 인터페이스를 이용해 설계하는 것도 가능하다.
>필딩의 REST 원리를 따르는 시스템은 종종 RESTful이란 용어로 지칭된다. 열정적인 REST 옹호자들은 스스로를 RESTafrians 이라고 부른다.

REST는 Representational State Transfer의 약자이다.
**소프트웨어 아키텍처의 한 형식**이다.
네트워크 아키텍처의 원리의 모음이다.

네트워크 아키텍처 원리란,
**자원을 정의하고 자원에 대한 주소를 지정하는 방법 전반**을 일컫는다.

### REST 의 특징

[참고 블로그](https://meetup.toast.com/posts/92)

1. Uniform (유니폼 인터페이스)
2. Stateless (무상태성)
3. Cacheable (캐시 가능)
4. Self-descriptiveness (자체 표현 구조)
5. Client - Server 구조
6. 계층형 구조

- URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행한다.
- 작업을 위한 상태 정보를 따로 저장하고 관리하지 않는다.
  - 세션 정보나 쿠키 정보를 별도로 저장하고 관리하지 않는다.
  - 서버가 들어오는 요청만을 단순히 처리하면 된다.
  - 서비스의 자유도가 높아진다.
  - 구현이 단순해진다.
- HTTP라는 기존 웹표준을 그대로 사용한다.
  - 웹에서 사용하는 기존 인프라를 그대로 활용이 가능하다.
  - HTTP가 가진 캐싱 기능이 적용 가능하다.
- REST API 메시지만 보고도 쉽게 이해할 수 있는 자체 표현 구조로 되어 있다.
- REST 서버는,
  - API 제공
- REST 클라이언트는,
  - 사용자 인증이나 컨텍스트(세션, 로그인 정보)등을 직접 관리
- 각각의 역할이 확실히 구분되기 때문에 서로간의 의존성이 줄어들게 된다.
- 다중 계층으로 구성될 수 있다.
  - 보안, 로드 밸런싱, 암호화 계층을 추가해 구조상의 유연성을 둘 수 있다.
  - PROXY, 게이트웨이 같은 네트워크 기반의 중간매체를 사용할 수 있다.

### REST API 설계시 중요한 점

[설계 참고 블로그 글](https://sanghaklee.tistory.com/57)

1. URI는 정보의 자원을 표현하고,
2. 자원에 대한 행위는 HTTP Method로 표현한다.

- 슬래시 구분자(/)는 계층 관계를 나타낸다
- URI 마지막에 / 포함하지 않는다
- URI 경로가 길어질 때, -(하이픈) 사용해서 가독성 높이자
- 대문자 사용을 피한다
- 밑줄(_) 사용을 피한다
- 파일 확장자 포함시키지 않는다.

URI만 잘 설계하는 것이 아니라, **그 리소스에 대한 응답을 HTTP 응답 상태 코드로 명확하게 돌려줘야 한다.**

### URI란

[위키피디아 - 통합 자원 식별자](https://ko.wikipedia.org/wiki/%ED%86%B5%ED%95%A9_%EC%9E%90%EC%9B%90_%EC%8B%9D%EB%B3%84%EC%9E%90)

URI는 Uniform Resource Identifier이다.
인터넷에 있는 자원을 나타내는 유일한 주소이다.
인터넛에서 요구되는 기본 조건으로서 인터넷 프로토콜에 항상 붙어 다닌다.

### URI와 URL의 차이

[참고 블로그](https://velog.io/@pa324/%EA%B0%9C%EB%B0%9C%EC%83%81%EC%8B%9D-URI-URL-%EC%B0%A8%EC%9D%B4-%EC%A0%95%EB%A6%AC)

URL은 Uniform Resource Locator이다. 웹 상에 서비스를 제공하는 각 서버들에 있는 파일의 위치를 표시하기 위한 것이다.

URN은,
Uniform Resource Name이다.
위치와 상관없이 리소스의 이름값을 이용해서 접근하는 방식이다.

**URI의 하위 개념에 URL, URN이 포함되어 있다.**

[참고 블로그 2](https://mygumi.tistory.com/139)
[참고 블로그 3](https://blog.lael.be/post/61)

>URI는 규약이고, URL은 규약에 대한 형태이다.
>예전에는 URL이 가리키는게 자원(파일) 위치 였는데, 요즘은 Rewrite등의 Apache, IIS, Tomcat 핸들러 때문에 자원 식별자라고 부른다.

**http://test.com/test.pdf?docid=111 이라는 주소는 URI이지만 URL은 아니다.**

- http://test.com/test.pdf 까지만 URL임(주소의 위치)
  - docid=111이라는 쿼리스트링의 값에 따라 결과가 달라지게됨, 따라서 식별자 역할을 하고 있음

## API 설계를 시작하는 나의 방법

그래서 API는 뭔지 알았고,
REST가 좋고, JSON 써야 하는 것도 알았다.

그럼 그냥 엑셀에다가 작성하면 되나?
와이어프레임도 이제 Powerpoint로 작성하지 않고 Adobe Xd 쓰는데,
API 설계할 때 쓰는 도구가 있지 않을까?

### Excel

다 엑셀을 쓰는 게 아니라,
종이에 끄적여보듯이 **먼저 전체적인 그림을 엑셀에 그린다.**

Parameter나 data schema까지 자세히 작성하기 전에,
필요한 URI와 메소드를 쭉 나열해본다.

### Swagger-editor

![swagger](https://upload.wikimedia.org/wikipedia/commons/a/ab/Swagger-logo.png)

>스웨거(Swagger)는 개발자가 REST 웹 서비스를 설계, 빌드, 문서화, 소비하는 일을 도와주는 대형 도구 생태계의 지원을 받는 오픈 소스 소프트웨어 프레임워크이다. 대부분의 사용자들은 스웨거 UI 도구를 통해 스웨거를 식별하며 스웨거 툴셋에는 자동화된 문서화, 코드 생성, 테스트 케이스 생성 지원이 포함된다.
[위키피디아 - Swagger](https://ko.wikipedia.org/wiki/%EC%8A%A4%EC%9B%A8%EA%B1%B0_(%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4))

웹 상에서 Swagger editor라는 도구를 이용해서 바로 문서를 작성할 수 있다.

Swagger UI를 통해서 시각화도 해줘서 팀원간 협업에도 매우 편리하다.

Codegen 기능도 있는거 같은데 아직 안써봤다.


### 시스템 구성도를 작성하는 이유

어디까지 적용할 건지 
적용을 ㅈ거어야함
이걸 가지고 다른 사람이 작업을 할 수 있어야한다.

서버 아키텍쳐가 보여야한다
개발 계획에.
아키텍쳐 중심으로 풀어가야함.


어떻게 구성을 하고
이들 간의 인터페이스를 어떻게 만들지
이런거를 충부닣 얘기하고 나서야 
개발 계획이 구체화 될 것 같다.

중심 못잡은 느낌이다.

ifttt
StarUML
API 설계할때 메소드가 충분한지 제대로 된건지 개선하는방법 이런걸 
순차도를 그린다.
메시지가 곧 서버에 부를 메소드이다.
모델링

노드가 곧
서버,
라즈베리파이,
클라이언트


에지 컴퓨팅
서버까지의 데이터 전송을 최소화시키는것
