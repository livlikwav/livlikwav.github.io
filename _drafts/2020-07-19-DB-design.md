---
title:  "Flask-MySQL REST API DB설계"
excerpt: "책으로, 과제로만 배웠던 DB 설계를 직접하려니 또 다르네"


categories:
-  DB
tags:
-  MySQL
last_modified_at: 2020-07-19TO22:30:00+09:00
---

## 책으로만 배웠습니다

데이터베이스 과목을 학부 수업으로 들었었다.
교수님이 잘 가르쳐주셔서 데이터베이스의 처음부터 끝까지 잘 배웠었다.
하지만 역시 직접 해보지 않았더니 이미 다 까먹은지 오래다.
다음 학기에 데이터베이스 설계 과목이 만약 열린다면 꼭 듣고 싶다.

**ERDcloud**라는 도구를 통해 ERD를 그리는 방법으로 DB를 설계했다.
ERDcloud는 Web기반이고 팀원들에게 공유하기도 편하다. 추천하는 도구이다.
직접 해보면서 들었던 궁금증들은 다음과 같다.

- ERD 그리는 순서가 어떻게 되더라?
- 관계 테이블은 언제 만드는 거더라?
- 무결성에는 어떤 것들이 있더라?
- 0대1이나 0대다 관계가 이해가 잘 안된다
- 실제 현업에서 사용하는 데이터베이스 예시가 보고 싶다

### register_date와 last_modified_date

모든 테이블에 추가해야 할만한 컬럼 2가지가 있다.
register_date와 last_modified_date이다.
2개는 만드는게 좋다.
모든 테이블마다 이 2개의 컬럼을 만드는게 좋다

서비스가 6개월 - 1년 지나면 데이터가 엄청 쌓인다.
그러면 자연스럽게 꼭 통계 데이터 요청이 들어온다.
회원 가입 수라던지, 정보 요청 건수라던지.

### 이력관리가 필요한 정보는 별도의 테이블을 생성한다

예를 들어서 직원의 인사관리 같은건,
언제 입사했고, 언제 승진했고 하는걸 쭉 기록을 해야한다.
이와 같이 이력관리가 필요한건 위 두 컬럼이 아닌, 테이블로 따로 만든다.

### ERD는 Entity-Relation Diagram

엔티티와 관계를 나타내야 한다.

엔티티를 정의해서 테이블을 쭉 만들고, 엔티티 간의 관계를 정의한다.
관계 테이블 하나를 따로 만드는게 일반적이다.

그리고, 다 관계 테이블을 하나씩 만들어주는게 확장성이 좋다.

### 지금 목표가 단편적이여도, 설계는 최대한의 확장성을 고려해야한다

여러 관계가 생길 것이라고 생각하고 설계해야,
나중에 싹 다 바꿀일이 없다.

### 추후 다대다 관계로 확장가능한 관계는 관계 테이블을 다 만들어 놓자

지금 개발하는 프로젝트에서 일대다 관계라도, 추후 기능을 확장할 때 다대다 관계가 필요하게 되면 크게 곤란할 것이다.
이를 위해 관계 테이블을 다 만들어두는 것도 좋다.
